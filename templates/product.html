<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Product Information</title>
   <style>
       body { 
           font-family: sans-serif; 
           margin: 20px; 
           background-color: #f5f5f5;
       }
       .container {
           max-width: 1200px;
           margin: 0 auto;
       }
       h1 {
           text-align: center;
           color: #333;
           margin-bottom: 30px;
       }
       .products-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
           gap: 20px;
           margin-bottom: 20px;
       }
       .product-card {
           background: white;
           border-radius: 10px;
           padding: 20px;
           box-shadow: 0 2px 10px rgba(0,0,0,0.1);
           text-align: center;
       }
       .product-card.error {
           border-left: 5px solid #e74c3c;
       }
       .product-name {
           font-size: 1.2em;
           font-weight: bold;
           margin-bottom: 10px;
           color: #2c3e50;
       }
       .barcode {
           font-size: 0.9em;
           color: #7f8c8d;
           margin-bottom: 15px;
       }
       .product-image {
           max-width: 200px;
           max-height: 200px;
           border: 1px solid #ddd;
           border-radius: 8px;
           margin-bottom: 15px;
       }
       .nutrients {
           text-align: left;
           margin: 15px 0;
       }
       .nutrients ul {
           list-style-type: none;
           padding: 0;
           margin: 0;
       }
       .nutrients li {
           margin: 5px 0;
           padding: 5px 0;
           border-bottom: 1px solid #ecf0f1;
       }
       .nutrients li:last-child {
           border-bottom: none;
       }
       .error-message {
           color: #e74c3c;
           font-style: italic;
       }
   </style>
</head>
<body>
   <div class="container">
       <h1>Product Catalog</h1>
       
       <div class="products-grid">
           {% for product in products %}
           <div class="product-card {% if product.error %}error{% endif %}">
               <div class="barcode">Barcode: {{ product.barcode }}</div>
               <div class="product-name">{{ product.name }}</div>
               
               {% if product.image and not product.error %}
                   <img src="{{ product.image }}" alt="Image of {{ product.name }}" class="product-image">
               {% else %}
                   <div style="height: 100px; background: #ecf0f1; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #7f8c8d; margin-bottom: 15px;">
                       {% if product.error %}
                           ‚ö†Ô∏è Error loading product
                       {% else %}
                           üì∑ No image available
                       {% endif %}
                   </div>
               {% endif %}
               
               {% if not product.error %}
               <div class="nutrients">
                   <strong>Nutritional Information (per 100g):</strong>
                   <ul>
                       {% for label, value in product.nutrients.items() %}
                       <li>
                           <strong>{{ label }}:</strong>
                           {% if value is number %}
                               {{ value }}g
                           {% else %}
                               {{ value }}
                           {% endif %}
                       </li>
                       {% endfor %}
                   </ul>
               </div>
               {% else %}
               <div class="error-message">
                   Unable to load product information
               </div>
               {% endif %}
           </div>
           {% endfor %}
       </div>
   </div>
</body>
</html>